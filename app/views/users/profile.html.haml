%h1 profile
-if @user.id == @current_user.id 
  %p
    %b Email:
    = @user.email
  %p
    %b Name:
    = @user.name
  %table
    %thead
      %tr
        %th Msg
        %th User
        %th Updated
        %th
        %th
        %th

    %tbody
      - @posts.each do |post|
        %tr
          %td= post.msg
          %td= post.user_id
          %td= post.updated_at
          %td= link_to 'Show', post
          %td= link_to 'Edit', edit_post_path(post)
          %td= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' }
    = link_to 'New Post', new_post_path 
-elsif @current_user.followees.include?(@user) 
  =button_to "Unfollow", unfollow_user_path(@user.id), method: "POST" 
  %p
    %b Name:
    = @user.name
  %table
    %thead
      %tr
        %th Msg
        %th User
        %th Updated
        %th
        %th
        %th

    %tbody
      - @posts.each do |post|
        %tr
          %td= post.msg
          %td= post.user_id
          %td= post.updated_at
-else
  =button_to "Follow", follow_user_path(@user.id), method: "POST"  
  %p
    %b Name:
    = @user.name
  %table
    %thead
      %tr
        %th Msg
        %th User
        %th Updated
        %th
        %th
        %th

    %tbody
      - @posts.each do |post|
        %tr
          %td= post.msg
          %td= post.user_id
          %td= post.updated_at






